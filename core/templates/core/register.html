{% extends 'core/base.html' %}

{% block content %}
<div class="max-w-2xl mx-auto">
    <div class="text-center mb-8">
        <div class="w-16 h-16 bg-gradient-to-br from-indigo-600 to-purple-600 rounded-3xl flex items-center justify-center mx-auto mb-4">
            <span class="text-white font-bold text-2xl">W&V</span>
        </div>
        <h1 class="text-3xl font-bold text-slate-900 mb-2">
            Inscription
        </h1>
        <p class="text-slate-600">
            Créez votre compte gratuitement
        </p>
    </div>
    
    <div class="bg-white rounded-3xl p-8 shadow-lg">
        <form method="post">
            {% csrf_token %}
            
            <!-- User Type -->
            <div class="mb-6">
                <label for="{{ form.user_type.id_for_label }}" class="block text-slate-900 font-semibold mb-2">
                    Type de compte *
                </label>
                {{ form.user_type }}
                {% if form.user_type.errors %}
                    <p class="text-red-600 text-sm mt-2">{{ form.user_type.errors.0 }}</p>
                {% endif %}
            </div>
            
            <!-- Username -->
            <div class="mb-6">
                <label for="{{ form.username.id_for_label }}" class="block text-slate-900 font-semibold mb-2">
                    Nom d'utilisateur *
                </label>
                {{ form.username }}
                {% if form.username.help_text %}
                    <p class="text-sm text-slate-600 mt-2">{{ form.username.help_text }}</p>
                {% endif %}
                {% if form.username.errors %}
                    <p class="text-red-600 text-sm mt-2">{{ form.username.errors.0 }}</p>
                {% endif %}
            </div>
            
            <!-- Email -->
            <div class="mb-6">
                <label for="{{ form.email.id_for_label }}" class="block text-slate-900 font-semibold mb-2">
                    Email *
                </label>
                {{ form.email }}
                {% if form.email.errors %}
                    <p class="text-red-600 text-sm mt-2">{{ form.email.errors.0 }}</p>
                {% endif %}
            </div>
            
            <!-- Phone -->
            <div class="mb-6">
                <label for="{{ form.phone.id_for_label }}" class="block text-slate-900 font-semibold mb-2">
                    Téléphone
                </label>
                {{ form.phone }}
                {% if form.phone.errors %}
                    <p class="text-red-600 text-sm mt-2">{{ form.phone.errors.0 }}</p>
                {% endif %}
            </div>
            
            <!-- Company Name (optional) -->
            <div class="mb-6">
                <label for="{{ form.company_name.id_for_label }}" class="block text-slate-900 font-semibold mb-2">
                    Nom de l'entreprise <span class="text-slate-500 font-normal">(optionnel)</span>
                </label>
                {{ form.company_name }}
                {% if form.company_name.errors %}
                    <p class="text-red-600 text-sm mt-2">{{ form.company_name.errors.0 }}</p>
                {% endif %}
            </div>
            
            <!-- Password 1 -->
            <div class="mb-6">
                <label for="{{ form.password1.id_for_label }}" class="block text-slate-900 font-semibold mb-2">
                    Mot de passe *
                </label>
                {{ form.password1 }}
                {% if form.password1.help_text %}
                    <div class="text-sm text-slate-600 mt-2">
                        {{ form.password1.help_text|safe }}
                    </div>
                {% endif %}
                {% if form.password1.errors %}
                    <p class="text-red-600 text-sm mt-2">{{ form.password1.errors.0 }}</p>
                {% endif %}
            </div>
            
            <!-- Password 2 -->
            <div class="mb-6">
                <label for="{{ form.password2.id_for_label }}" class="block text-slate-900 font-semibold mb-2">
                    Confirmer le mot de passe *
                </label>
                {{ form.password2 }}
                {% if form.password2.help_text %}
                    <p class="text-sm text-slate-600 mt-2">{{ form.password2.help_text }}</p>
                {% endif %}
                {% if form.password2.errors %}
                    <p class="text-red-600 text-sm mt-2">{{ form.password2.errors.0 }}</p>
                {% endif %}
            </div>
            
            <!-- Non-field Errors -->
            {% if form.non_field_errors %}
                <div class="mb-6 p-4 bg-red-100 border border-red-300 text-red-700 rounded-2xl">
                    {{ form.non_field_errors.0 }}
                </div>
            {% endif %}
            
            <!-- Submit Button -->
            <button type="submit" class="w-full bg-indigo-600 text-white px-6 py-4 rounded-2xl font-semibold hover:bg-indigo-700 transition shadow-lg shadow-indigo-200 mb-4">
                Créer mon compte
            </button>
            
            <!-- Login Link -->
            <p class="text-center text-slate-600">
                Déjà un compte ?
                <a href="{% url 'login' %}" class="text-indigo-600 hover:text-indigo-700 font-semibold">
                    Se connecter
                </a>
            </p>
        </form>
    </div>
</div>
{% endblock %}
